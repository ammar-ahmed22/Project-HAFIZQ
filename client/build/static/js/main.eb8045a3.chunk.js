(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n.n(a),r=n(33),s=n.n(r),i=(n(40),n(3)),o=(n(41),n(13)),l=n(5),u=n(2),j=n.n(u),b=n(6),m=n(10),d=(n(43),n(44),n(15)),f=n.n(d),p="https://projecthafizq.herokuapp.com/api/data",h=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post(p+"/add-listing",t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get(p+"/listings");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),n="/listing/".concat(t),e.next=5,f.a.get(p+n);case 5:return a=e.sent,c=a.data,console.log(c),e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="/update/".concat(t),e.next=4,f.a.post(p+a,n);case 4:return c=e.sent,r=c.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="/update/".concat(t,"?isImage=true"),e.next=4,f.a.post(p+a,n);case 4:return c=e.sent,r=c.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="/search?query=".concat(t),e.next=4,f.a.get(p+n);case 4:return a=e.sent,c=a.data,e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),N=n(0),w=function(e){var t=e.active,n=(e.listings,e.setListings),c=e.search,r=Object(a.useState)(""),s=Object(m.a)(r,2),i=s[0],l=s[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(i.split(" ").join("&"));case 2:t=e.sent,n(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c&&e()}),[i,n,c]),Object(N.jsxs)("div",{className:"navigation d-flex justify-content-between align-items-center p-3",children:[Object(N.jsx)("div",{className:"nav-section",children:Object(N.jsx)(o.b,{to:"/",className:"fw-bold text-primary text-decoration-none fs-3 text-fancy",children:"Project HafizQ"})}),c&&Object(N.jsxs)("div",{class:"input-group nav-section align-items-center",children:[Object(N.jsx)("span",{class:"input-group-text",id:"search-bar",children:Object(N.jsx)("i",{class:"bx bx-search-alt-2"})}),Object(N.jsx)("input",{type:"text",class:"form-control",placeholder:"Search by name","aria-label":"Search","aria-describedby":"search-bar",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(N.jsxs)("div",{className:"nav-section d-flex justify-content-end",children:[Object(N.jsx)(o.b,{to:"/about",className:"text-secondary text-end text-decoration-none mx-2 fs-5 fw-bold",children:"About"}),Object(N.jsx)(o.b,{to:"/create",className:"text-decoration-none text-end fs-5 mx-2 fw-bold ".concat(t?"text-secondary":""),children:"List"})]})]})},k=function(e){var t=e.history,n=Object(a.useState)([]),c=Object(m.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,console.log(t),s(t.payload);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(w,{listings:r,setListings:s,search:!0}),Object(N.jsx)("section",{className:"container main mt-5",children:r.map((function(e,n){return Object(N.jsx)("div",{className:"listing my-2",onClick:function(n){return a=e._id,console.log(a),void t.push("/listing/".concat(a));var a},children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-md-4 col-12 listing-image-box",children:[Object(N.jsx)("img",{src:e.image,alt:"",className:"img-fluid listing-image"}),Object(N.jsx)("div",{className:"listing-image-hover",children:Object(N.jsx)("h4",{children:"VIEW"})})]}),Object(N.jsxs)("div",{className:"col-md-8 col-12 p-3 d-flex flex-column justify-content-center",children:[Object(N.jsx)("h3",{children:e.name}),Object(N.jsx)("p",{children:e.about})]})]})},n)}))})]})},C=(n(22),n(17)),F=n.n(C),S=function(e){var t=e.history,n=Object(a.useState)({}),c=Object(m.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){var e=document.querySelector('input[type="file"]');e.classList.add("form-control"),e.id="image"}),[]);var o=function(){var e=Object(b.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,h(r);case 3:(a=e.sent).success?t.push("/"):console.log("Error:",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(w,{active:!0}),Object(N.jsx)("section",{className:"container create",children:Object(N.jsxs)("form",{onSubmit:o,className:"create-form my-4 p-5",children:[Object(N.jsx)("h2",{className:"fw-bold",children:"Create a listing"}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(N.jsx)("input",{type:"name",className:"form-control",id:"name",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{name:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"about",className:"form-label",children:"About"}),Object(N.jsx)("textarea",{className:"form-control",id:"name",rows:"3",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{about:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"location",className:"form-label",children:"Location"}),Object(N.jsx)("textarea",{className:"form-control",id:"location",rows:"3",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{location:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"admission",className:"form-label",children:"Admission"}),Object(N.jsx)("textarea",{className:"form-control",id:"admission",rows:"3",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{admission:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"image",className:"form-label",children:"Image"}),Object(N.jsx)(F.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return s(Object(i.a)(Object(i.a)({},r),{},{image:t}))}})]}),Object(N.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})]})})]})},E=function(e){var t=e.match,n=e.history,c=Object(a.useState)({}),r=Object(m.a)(c,2),s=r[0],o=r[1],l=t.params.identifier;Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(l);case 2:t=e.sent,o(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l]);var u=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v(l,s);case 3:(a=e.sent).success||console.log("Error",a),n.push("/listing/".concat(l));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(w,{active:!0}),Object(N.jsx)("section",{className:"container create",children:Object(N.jsxs)("form",{onSubmit:u,className:"create-form my-4 p-5",children:[Object(N.jsx)("h2",{className:"fw-bold",children:"Edit this listing"}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(N.jsx)("input",{type:"name",className:"form-control",id:"name",value:s.name,onChange:function(e){return o(Object(i.a)(Object(i.a)({},s),{},{name:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"about",className:"form-label",children:"About"}),Object(N.jsx)("textarea",{className:"form-control",id:"name",rows:"3",value:s.about,onChange:function(e){return o(Object(i.a)(Object(i.a)({},s),{},{about:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"location",className:"form-label",children:"Location"}),Object(N.jsx)("textarea",{className:"form-control",id:"location",rows:"3",value:s.location,onChange:function(e){return o(Object(i.a)(Object(i.a)({},s),{},{location:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"admission",className:"form-label",children:"Admission"}),Object(N.jsx)("textarea",{className:"form-control",id:"admission",rows:"3",value:s.admission,onChange:function(e){return o(Object(i.a)(Object(i.a)({},s),{},{admission:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{className:"btn btn-danger me-2",onClick:function(e){e.preventDefault(),n.push("/listing/".concat(l))},children:"Cancel"}),Object(N.jsx)("button",{className:"btn btn-primary ms-2",type:"submit",children:"Save"})]})]})})]})},L=function(e){var t=e.match,n=e.history,c=Object(a.useState)({}),r=Object(m.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)({}),l=Object(m.a)(o,2),u=l[0],d=l[1],f=t.params.identifier;Object(a.useEffect)((function(){var e=document.querySelector('input[type="file"]');e.classList.add("form-control"),e.id="image";var t=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(f);case 2:t=e.sent,console.log(t),d(t.payload);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}),[f]);var p=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g(f,s);case 3:(a=e.sent).success||console.log("Error:",a),n.push("/listing/".concat(f));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(w,{}),Object(N.jsx)("section",{className:"container create",children:Object(N.jsxs)("form",{className:"create-form my-4 p-5",onSubmit:p,children:[Object(N.jsxs)("h2",{className:"fw-bold",children:["Change Image ",u?"for ".concat(u.name):""]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"image",className:"form-label",children:"Image"}),Object(N.jsx)(F.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return i({image:t})}})]}),Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{className:"btn btn-danger rounded rounded-pill me-2",onClick:function(e){e.preventDefault(),n.push("/listing/".concat(f))},children:"Cancel"}),Object(N.jsx)("button",{className:"btn btn-primary rounded rounded-pill ms-2",type:"submit",children:"Save"})]})]})})]})},A=(n(71),function(e){var t=e.match,n=Object(a.useState)({}),c=Object(m.a)(n,2),r=c[0],s=c[1],i=t.params.identifier;return Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(i);case 2:t=e.sent,console.log(t),s(t.payload);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),console.log("inside useEffect")}),[i]),console.log(r),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(w,{}),Object(N.jsxs)("div",{className:"container-fluid mainimg p-0",children:[Object(N.jsx)("img",{src:r.image,alt:"",className:"img-fluid w-100"}),Object(N.jsx)("div",{className:"edit-hover p-3",children:Object(N.jsxs)(o.b,{to:"/edit-image/".concat(i),className:"text-decoration-none border border-primary bg-primary text-light rounded rounded-pill px-3 py-2",children:[Object(N.jsx)("i",{className:"bx bxs-edit align-middle"})," Change Image"]})})]}),Object(N.jsxs)("section",{className:"container listing-page my-3",children:[Object(N.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(N.jsx)("h1",{children:r.name}),Object(N.jsx)("div",{className:"d-flex",children:Object(N.jsxs)(o.b,{to:"/edit/".concat(i),className:"text-decoration-none border border-primary bg-primary text-light rounded rounded-pill p-3 py-2",children:[Object(N.jsx)("i",{className:"bx bxs-edit align-middle"})," Edit"]})})]}),Object(N.jsx)("h3",{children:"About"}),Object(N.jsx)("p",{children:r.about}),Object(N.jsx)("h3",{children:"Location"}),Object(N.jsx)("p",{children:r.location}),Object(N.jsx)("h3",{children:"Admission"}),Object(N.jsx)("p",{children:r.admission})]})]})}),D=function(){return Object(N.jsx)(o.a,{children:Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)(l.c,{children:[Object(N.jsx)(l.a,{exact:!0,path:"/",render:function(e){return Object(N.jsx)(k,Object(i.a)({},e))}}),Object(N.jsx)(l.a,{exact:!0,path:"/create",render:function(e){return Object(N.jsx)(S,Object(i.a)({},e))}}),Object(N.jsx)(l.a,{exact:!0,path:"/listing/:identifier",render:function(e){return Object(N.jsx)(A,Object(i.a)({},e))}}),Object(N.jsx)(l.a,{exact:!0,path:"/edit/:identifier",render:function(e){return Object(N.jsx)(E,Object(i.a)({},e))}}),Object(N.jsx)(l.a,{exact:!0,path:"/edit-image/:identifier",render:function(e){return Object(N.jsx)(L,Object(i.a)({},e))}})]})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(D,{})}),document.getElementById("root")),I()}},[[72,1,2]]]);
//# sourceMappingURL=main.eb8045a3.chunk.js.map