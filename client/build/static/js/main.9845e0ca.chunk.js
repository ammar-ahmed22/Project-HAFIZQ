(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),r=n(33),s=n.n(r),i=(n(40),n(3)),o=(n(41),n(13)),l=n(5),u=n(2),j=n.n(u),b=n(6),d=n(10),m=(n(43),n(44),n(15)),f=n.n(m),x="https://projecthafizq.herokuapp.com/api/data",p=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post(x+"/add-listing",t);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get(x+"/listings");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),n="/listing/".concat(t),e.next=5,f.a.get(x+n);case 5:return c=e.sent,a=c.data,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var c,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="/update/".concat(t),e.next=4,f.a.post(x+c,n);case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var c,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="/update/".concat(t,"?isImage=true"),e.next=4,f.a.post(x+c,n);case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="/search?query=".concat(t),e.next=4,f.a.get(x+n);case 4:return c=e.sent,a=c.data,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),y=n(0),w=function(e){var t=e.active,n=(e.listings,e.setListings),a=e.search,r=Object(c.useState)(""),s=Object(d.a)(r,2),i=s[0],l=s[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(i.split(" ").join("&"));case 2:t=e.sent,n(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a&&e()}),[i,n,a]),Object(y.jsxs)("div",{className:"navigation d-flex justify-content-between align-items-center p-3",children:[Object(y.jsx)("div",{className:"nav-section",children:Object(y.jsx)(o.b,{to:"/",className:"fw-bold text-primary text-decoration-none fs-3 text-fancy",children:"Project HafizQ"})}),a&&Object(y.jsxs)("div",{className:"input-group nav-section align-items-center",children:[Object(y.jsx)("span",{className:"input-group-text",id:"search-bar",children:Object(y.jsx)("i",{className:"bx bx-search-alt-2"})}),Object(y.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by name","aria-label":"Search","aria-describedby":"search-bar",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(y.jsxs)("div",{className:"nav-section d-flex justify-content-end",children:[Object(y.jsx)(o.b,{to:"/about",className:"text-secondary text-end text-decoration-none mx-2 fs-5 fw-bold",children:"About"}),Object(y.jsx)(o.b,{to:"/create",className:"text-decoration-none text-end fs-5 mx-2 fw-bold ".concat(t?"text-secondary":""),children:"List"})]})]})},F=(n(71),function(){return Object(y.jsx)("div",{className:"loader"})}),k=(n(72),function(){return Object(y.jsx)("div",{className:"footer py-4 mt-3 d-flex align-items-center justify-content-center",children:Object(y.jsx)("p",{className:"text-center text-secondary m-0",children:"Created by Ammar Ahmed. For Dreamschools."})})}),C=function(e){var t=e.history,n=Object(c.useState)([]),a=Object(d.a)(n,2),r=a[0],s=a[1];Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,s(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return r?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{listings:r,setListings:s,search:!0}),Object(y.jsx)("section",{className:"container main mt-5",children:r.map((function(e,n){return Object(y.jsx)("div",{className:"listing my-4",onClick:function(n){return c=e._id,console.log(c),void t.push("/listing/".concat(c));var c},children:Object(y.jsxs)("div",{className:"row",children:[Object(y.jsxs)("div",{className:"col-md-4 col-12 listing-image-box",children:[Object(y.jsx)("img",{src:e.image,alt:"",className:"img-fluid listing-image"}),Object(y.jsx)("div",{className:"listing-image-hover",children:Object(y.jsx)("h4",{children:"VIEW"})})]}),Object(y.jsxs)("div",{className:"col-md-8 col-12 p-3 d-flex flex-column justify-content-center",children:[Object(y.jsx)("h3",{children:e.name}),Object(y.jsx)("p",{children:e.about})]})]})},n)}))}),Object(y.jsx)(k,{})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{listings:r,setListings:s,search:!0}),Object(y.jsx)("div",{className:"container loading-cont d-flex justify-content-center align-items-center",children:Object(y.jsx)(F,{})}),Object(y.jsx)(k,{})]})},S=(n(22),n(19)),E=n.n(S),A=function(e){var t=e.history,n=Object(c.useState)({}),a=Object(d.a)(n,2),r=a[0],s=a[1];Object(c.useEffect)((function(){var e=document.querySelector('input[type="file"]');e.classList.add("form-control"),e.id="image"}),[]);var o=function(){var e=Object(b.a)(j.a.mark((function e(n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,p(r);case 3:(c=e.sent).success?t.push("/"):console.log("Error:",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{active:!0}),Object(y.jsx)("section",{className:"container create",children:Object(y.jsxs)("form",{onSubmit:o,className:"create-form my-4 p-5",children:[Object(y.jsx)("h2",{className:"fw-bold",children:"Create a listing"}),Object(y.jsxs)("div",{className:"form-group my-3",children:[Object(y.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(y.jsx)("input",{type:"name",className:"form-control",id:"name",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{name:e.target.value}))}})]}),Object(y.jsxs)("div",{className:"form-group my-3",children:[Object(y.jsx)("label",{htmlFor:"about",className:"form-label",children:"About"}),Object(y.jsx)("textarea",{className:"form-control",id:"name",rows:"3",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{about:e.target.value}))}})]}),Object(y.jsxs)("div",{className:"form-group my-3",children:[Object(y.jsx)("label",{htmlFor:"location",className:"form-label",children:"Location"}),Object(y.jsx)("textarea",{className:"form-control",id:"location",rows:"3",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{location:e.target.value}))}})]}),Object(y.jsxs)("div",{className:"form-group my-3",children:[Object(y.jsx)("label",{htmlFor:"admission",className:"form-label",children:"Admission"}),Object(y.jsx)("textarea",{className:"form-control",id:"admission",rows:"3",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{admission:e.target.value}))}})]}),Object(y.jsxs)("div",{className:"form-group my-3",children:[Object(y.jsx)("label",{htmlFor:"image",className:"form-label",children:"Image"}),Object(y.jsx)(E.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return s(Object(i.a)(Object(i.a)({},r),{},{image:t}))}})]}),Object(y.jsx)("div",{className:"d-flex justify-content-end",children:Object(y.jsx)("button",{className:"btn btn-primary rounded rounded-pill",type:"submit",children:"Submit"})})]})})]})},L=function(e){var t=e.match,n=e.history,a=Object(c.useState)({}),r=Object(d.a)(a,2),s=r[0],o=r[1],l=t.params.identifier;Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(l);case 2:t=e.sent,o(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l]);var u=function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v(l,s);case 3:(c=e.sent).success||console.log("Error",c),n.push("/listing/".concat(l));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{active:!0}),Object(y.jsx)("section",{className:"container create",children:Object(y.jsxs)("form",{onSubmit:u,className:"create-form my-4 p-5",children:[Object(y.jsx)("h2",{className:"fw-bold",children:"Edit this listing"}),Object(y.jsxs)("div",{className:"form-group my-3",children:[Object(y.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(y.jsx)("input",{type:"name",className:"form-control",id:"name",value:s.name,onChange:function(e){return o(Object(i.a)(Object(i.a)({},s),{},{name:e.target.value}))}})]}),Object(y.jsxs)("div",{className:"form-group my-3",children:[Object(y.jsx)("label",{htmlFor:"about",className:"form-label",children:"About"}),Object(y.jsx)("textarea",{className:"form-control",id:"name",rows:"3",value:s.about,onChange:function(e){return o(Object(i.a)(Object(i.a)({},s),{},{about:e.target.value}))}})]}),Object(y.jsxs)("div",{className:"form-group my-3",children:[Object(y.jsx)("label",{htmlFor:"location",className:"form-label",children:"Location"}),Object(y.jsx)("textarea",{className:"form-control",id:"location",rows:"3",value:s.location,onChange:function(e){return o(Object(i.a)(Object(i.a)({},s),{},{location:e.target.value}))}})]}),Object(y.jsxs)("div",{className:"form-group my-3",children:[Object(y.jsx)("label",{htmlFor:"admission",className:"form-label",children:"Admission"}),Object(y.jsx)("textarea",{className:"form-control",id:"admission",rows:"3",value:s.admission,onChange:function(e){return o(Object(i.a)(Object(i.a)({},s),{},{admission:e.target.value}))}})]}),Object(y.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(y.jsx)("button",{className:"btn btn-danger me-2 rounded rounded-pill",onClick:function(e){e.preventDefault(),n.push("/listing/".concat(l))},children:"Cancel"}),Object(y.jsx)("button",{className:"btn btn-primary ms-2 rounded rounded-pill",type:"submit",children:"Save"})]})]})})]})},D=function(e){var t=e.match,n=e.history,a=Object(c.useState)({}),r=Object(d.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)({}),l=Object(d.a)(o,2),u=l[0],m=l[1],f=t.params.identifier;Object(c.useEffect)((function(){var e=document.querySelector('input[type="file"]');e.classList.add("form-control"),e.id="image";var t=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(f);case 2:t=e.sent,console.log(t),m(t.payload);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}),[f]);var x=function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g(f,s);case 3:(c=e.sent).success||console.log("Error:",c),n.push("/listing/".concat(f));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{}),Object(y.jsx)("section",{className:"container create",children:Object(y.jsxs)("form",{className:"create-form my-4 p-5",onSubmit:x,children:[Object(y.jsxs)("h2",{className:"fw-bold",children:["Change Image ",u?"for ".concat(u.name):""]}),Object(y.jsxs)("div",{className:"form-group my-3",children:[Object(y.jsx)("label",{htmlFor:"image",className:"form-label",children:"Image"}),Object(y.jsx)(E.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return i({image:t})}})]}),Object(y.jsxs)("div",{className:"d-flex",children:[Object(y.jsx)("button",{className:"btn btn-danger rounded rounded-pill me-2",onClick:function(e){e.preventDefault(),n.push("/listing/".concat(f))},children:"Cancel"}),Object(y.jsx)("button",{className:"btn btn-primary rounded rounded-pill ms-2",type:"submit",children:"Save"})]})]})})]})},I=(n(73),function(e){var t=e.match,n=Object(c.useState)({}),a=Object(d.a)(n,2),r=a[0],s=a[1],i=t.params.identifier;return Object(c.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(i);case 2:t=e.sent,console.log(t),s(t.payload);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),console.log("inside useEffect")}),[i]),r?(console.log(r.updatedAt),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{}),Object(y.jsxs)("div",{className:"container-fluid mainimg p-0",children:[Object(y.jsx)("img",{src:r.image,alt:"",className:"img-fluid w-100"}),Object(y.jsx)("div",{className:"edit-hover p-3",children:Object(y.jsxs)(o.b,{to:"/edit-image/".concat(i),className:"text-decoration-none border border-primary bg-primary text-light rounded rounded-pill px-3 py-2",children:[Object(y.jsx)("i",{className:"bx bxs-edit align-middle"})," Change Image"]})})]}),Object(y.jsxs)("section",{className:"container listing-page my-3",children:[Object(y.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:Object(y.jsx)("h1",{children:r.name})}),Object(y.jsx)("h3",{children:"About"}),Object(y.jsx)("p",{children:r.about}),Object(y.jsx)("h3",{children:"Location"}),Object(y.jsx)("p",{children:r.location}),Object(y.jsx)("h3",{children:"Admission"}),Object(y.jsx)("p",{children:r.admission}),Object(y.jsxs)("div",{className:"listing-buttons d-flex justify-content-between",children:[Object(y.jsxs)(o.b,{to:"/",className:"text-decoration-none",children:[Object(y.jsx)("i",{className:"bx bx-chevron-left align-middle"}),"Back"]}),Object(y.jsxs)(o.b,{to:"/edit/".concat(i),className:"text-decoration-none",children:[Object(y.jsx)("i",{className:"bx bxs-edit align-middle"})," Edit"]})]})]}),Object(y.jsx)(k,{})]})):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{}),Object(y.jsx)("div",{className:"container container loading-cont d-flex justify-content-center align-items-center",children:Object(y.jsx)(F,{})}),Object(y.jsx)(k,{})]})}),q=function(){return Object(y.jsx)(o.a,{children:Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(l.c,{children:[Object(y.jsx)(l.a,{exact:!0,path:"/",render:function(e){return Object(y.jsx)(C,Object(i.a)({},e))}}),Object(y.jsx)(l.a,{exact:!0,path:"/create",render:function(e){return Object(y.jsx)(A,Object(i.a)({},e))}}),Object(y.jsx)(l.a,{exact:!0,path:"/listing/:identifier",render:function(e){return Object(y.jsx)(I,Object(i.a)({},e))}}),Object(y.jsx)(l.a,{exact:!0,path:"/edit/:identifier",render:function(e){return Object(y.jsx)(L,Object(i.a)({},e))}}),Object(y.jsx)(l.a,{exact:!0,path:"/edit-image/:identifier",render:function(e){return Object(y.jsx)(D,Object(i.a)({},e))}})]})})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(q,{})}),document.getElementById("root")),B()}},[[74,1,2]]]);
//# sourceMappingURL=main.9845e0ca.chunk.js.map