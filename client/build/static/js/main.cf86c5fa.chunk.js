(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),r=n(33),s=n.n(r),i=(n(40),n(41),n(13)),o=n(4),l=n(2),u=n.n(l),j=n(5),d=n(10),m=(n(43),n(44),n(15)),b=n.n(m),f="https://projecthafizq.herokuapp.com/api/data",x=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post(f+"/add-listing",t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get(f+"/listings");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="/listing/".concat(t),e.next=4,b.a.get(f+n);case 4:return a=e.sent,c=a.data,e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="/update/".concat(t),e.next=4,b.a.post(f+a,n);case 4:return c=e.sent,r=c.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="/update/".concat(t,"?isImage=true"),e.next=4,b.a.post(f+a,n);case 4:return c=e.sent,r=c.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="/search?query=".concat(t),e.next=4,b.a.get(f+n);case 4:return a=e.sent,c=a.data,e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),N=n(0),y=function(e){var t=e.active,n=(e.listings,e.setListings),c=e.search,r=Object(a.useState)(""),s=Object(d.a)(r,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(o.split(" ").join("&"));case 2:t=e.sent,n(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c&&e()}),[o,n,c]),Object(N.jsxs)("div",{className:"navigation d-flex justify-content-between align-items-center p-3",children:[Object(N.jsx)("div",{className:"nav-section",children:Object(N.jsx)(i.b,{to:"/",className:"fw-bold text-primary text-decoration-none fs-3 text-fancy",children:"Project HafizQ"})}),c&&Object(N.jsxs)("div",{className:"input-group nav-section align-items-center",children:[Object(N.jsx)("span",{className:"input-group-text",id:"search-bar",children:Object(N.jsx)("i",{className:"bx bx-search-alt-2"})}),Object(N.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by name","aria-label":"Search","aria-describedby":"search-bar",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(N.jsxs)("div",{className:"nav-section d-flex justify-content-end",children:[Object(N.jsx)(i.b,{to:"/about",className:"text-secondary text-end text-decoration-none mx-2 fs-5 fw-bold",children:"About"}),Object(N.jsx)(i.b,{to:"/create",className:"text-decoration-none text-end fs-5 mx-2 fw-bold ".concat(t?"text-secondary":""),children:"List"})]})]})},w=(n(71),function(){return Object(N.jsx)("div",{className:"loader"})}),S=(n(72),function(){return Object(N.jsx)("div",{className:"footer py-4 mt-3 d-flex align-items-center justify-content-center",children:Object(N.jsx)("p",{className:"text-center text-secondary m-0",children:"Created by Ammar Ahmed. For Dreamschools."})})}),k=function(e){var t=e.history,n=Object(a.useState)([]),c=Object(d.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,s(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return r?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(y,{listings:r,setListings:s,search:!0}),Object(N.jsx)("section",{className:"container main mt-5",children:r.map((function(e,n){return Object(N.jsx)("div",{className:"listing my-4",onClick:function(n){return a=e._id,console.log(a),void t.push("/listing/".concat(a));var a},children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-md-4 col-12 listing-image-box",children:[Object(N.jsx)("img",{src:e.image,alt:"",className:"img-fluid listing-image"}),Object(N.jsx)("div",{className:"listing-image-hover",children:Object(N.jsx)("h4",{children:"VIEW"})})]}),Object(N.jsxs)("div",{className:"col-md-8 col-12 p-3 d-flex flex-column justify-content-center",children:[Object(N.jsx)("h3",{children:e.name}),Object(N.jsx)("p",{children:e.about})]})]})},n)}))}),Object(N.jsx)(S,{})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(y,{listings:r,setListings:s,search:!0}),Object(N.jsx)("div",{className:"container loading-cont d-flex justify-content-center align-items-center",children:Object(N.jsx)(w,{})}),Object(N.jsx)(S,{})]})},F=n(6),C=(n(22),n(19)),L=n.n(C),E=function(e){var t=e.history,n=Object(a.useState)({}),c=Object(d.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){var e=document.querySelector('input[type="file"]');e.classList.add("form-control"),e.id="image"}),[]);var i=function(){var e=Object(j.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,x(r);case 3:(a=e.sent).success?t.push("/"):console.log("Error:",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(y,{active:!0}),Object(N.jsx)("section",{className:"container create",children:Object(N.jsxs)("form",{onSubmit:i,className:"create-form my-4 p-5",children:[Object(N.jsx)("h2",{className:"fw-bold",children:"Create a listing"}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(N.jsx)("input",{type:"name",className:"form-control",id:"name",onChange:function(e){return s(Object(F.a)(Object(F.a)({},r),{},{name:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"about",className:"form-label",children:"About"}),Object(N.jsx)("textarea",{className:"form-control",id:"name",rows:"3",onChange:function(e){return s(Object(F.a)(Object(F.a)({},r),{},{about:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"location",className:"form-label",children:"Location"}),Object(N.jsx)("textarea",{className:"form-control",id:"location",rows:"3",onChange:function(e){return s(Object(F.a)(Object(F.a)({},r),{},{location:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"admission",className:"form-label",children:"Admission"}),Object(N.jsx)("textarea",{className:"form-control",id:"admission",rows:"3",onChange:function(e){return s(Object(F.a)(Object(F.a)({},r),{},{admission:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"image",className:"form-label",children:"Image"}),Object(N.jsx)(L.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return s(Object(F.a)(Object(F.a)({},r),{},{image:t}))}})]}),Object(N.jsx)("div",{className:"d-flex justify-content-end",children:Object(N.jsx)("button",{className:"btn btn-primary rounded rounded-pill",type:"submit",children:"Submit"})})]})})]})},A=function(e){var t=e.match,n=e.history,c=Object(a.useState)({}),r=Object(d.a)(c,2),s=r[0],i=r[1],o=t.params.identifier;Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(o);case 2:t=e.sent,i(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o]);var l=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O(o,s);case 3:(a=e.sent).success||console.log("Error",a),n.push("/listing/".concat(o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(y,{active:!0}),Object(N.jsx)("section",{className:"container create",children:Object(N.jsxs)("form",{onSubmit:l,className:"create-form my-4 p-5",children:[Object(N.jsx)("h2",{className:"fw-bold",children:"Edit this listing"}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(N.jsx)("input",{type:"name",className:"form-control",id:"name",value:s.name,onChange:function(e){return i(Object(F.a)(Object(F.a)({},s),{},{name:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"about",className:"form-label",children:"About"}),Object(N.jsx)("textarea",{className:"form-control",id:"name",rows:"3",value:s.about,onChange:function(e){return i(Object(F.a)(Object(F.a)({},s),{},{about:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"location",className:"form-label",children:"Location"}),Object(N.jsx)("textarea",{className:"form-control",id:"location",rows:"3",value:s.location,onChange:function(e){return i(Object(F.a)(Object(F.a)({},s),{},{location:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"admission",className:"form-label",children:"Admission"}),Object(N.jsx)("textarea",{className:"form-control",id:"admission",rows:"3",value:s.admission,onChange:function(e){return i(Object(F.a)(Object(F.a)({},s),{},{admission:e.target.value}))}})]}),Object(N.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(N.jsx)("button",{className:"btn btn-danger me-2 rounded rounded-pill",onClick:function(e){e.preventDefault(),n.push("/listing/".concat(o))},children:"Cancel"}),Object(N.jsx)("button",{className:"btn btn-primary ms-2 rounded rounded-pill",type:"submit",children:"Save"})]})]})})]})},D=function(e){var t=e.match,n=e.history,c=Object(a.useState)({}),r=Object(d.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)({}),l=Object(d.a)(o,2),m=l[0],b=l[1],f=t.params.identifier;Object(a.useEffect)((function(){var e=document.querySelector('input[type="file"]');e.classList.add("form-control"),e.id="image";var t=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(f);case 2:t=e.sent,b(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}),[f]);var x=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v(f,s);case 3:(a=e.sent).success||console.log("Error:",a),n.push("/listing/".concat(f));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(y,{}),Object(N.jsx)("section",{className:"container create",children:Object(N.jsxs)("form",{className:"create-form my-4 p-5",onSubmit:x,children:[Object(N.jsxs)("h2",{className:"fw-bold",children:["Change Image ",m?"for ".concat(m.name):""]}),Object(N.jsxs)("div",{className:"form-group my-3",children:[Object(N.jsx)("label",{htmlFor:"image",className:"form-label",children:"Image"}),Object(N.jsx)(L.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return i({image:t})}})]}),Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{className:"btn btn-danger rounded rounded-pill me-2",onClick:function(e){e.preventDefault(),n.push("/listing/".concat(f))},children:"Cancel"}),Object(N.jsx)("button",{className:"btn btn-primary rounded rounded-pill ms-2",type:"submit",children:"Save"})]})]})})]})},I=(n(73),function(e){var t=e.match,n=Object(a.useState)({}),c=Object(d.a)(n,2),r=c[0],s=c[1],o=t.params.identifier;if(Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(o);case 2:t=e.sent,console.log(t),s(t.payload);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o]),r){var l=new Date(r.updatedAt),m=l.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"}),b=l.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(y,{}),Object(N.jsxs)("div",{className:"container-fluid mainimg p-0",children:[Object(N.jsx)("img",{src:r.image,alt:"",className:"img-fluid w-100"}),Object(N.jsx)("div",{className:"edit-hover p-3",children:Object(N.jsxs)(i.b,{to:"/edit-image/".concat(o),className:"text-decoration-none border border-primary bg-primary text-light rounded rounded-pill px-3 py-2",children:[Object(N.jsx)("i",{className:"bx bxs-edit align-middle"})," Change Image"]})})]}),Object(N.jsxs)("section",{className:"container listing-page my-3",children:[Object(N.jsx)("h1",{className:"m-0",children:r.name}),Object(N.jsxs)("p",{className:"text-secondary",children:["Last Updated: ",m," at ",b]}),Object(N.jsx)("h3",{children:"About"}),Object(N.jsx)("p",{children:r.about}),Object(N.jsx)("h3",{children:"Location"}),Object(N.jsx)("p",{children:r.location}),Object(N.jsx)("h3",{children:"Admission"}),Object(N.jsx)("p",{children:r.admission}),Object(N.jsxs)("div",{className:"listing-buttons d-flex justify-content-between",children:[Object(N.jsxs)(i.b,{to:"/",className:"text-decoration-none",children:[Object(N.jsx)("i",{className:"bx bx-chevron-left align-middle"}),"Back"]}),Object(N.jsxs)(i.b,{to:"/edit/".concat(o),className:"text-decoration-none",children:[Object(N.jsx)("i",{className:"bx bxs-edit align-middle"})," Edit"]})]})]}),Object(N.jsx)(S,{})]})}return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(y,{}),Object(N.jsx)("div",{className:"container container loading-cont d-flex justify-content-center align-items-center",children:Object(N.jsx)(w,{})}),Object(N.jsx)(S,{})]})}),q=function(){return Object(N.jsx)(i.a,{children:Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)(o.c,{children:[Object(N.jsx)(o.a,{exact:!0,path:"/",component:k}),Object(N.jsx)(o.a,{exact:!0,path:"/create",component:E}),Object(N.jsx)(o.a,{exact:!0,path:"/listing/:identifier",component:I}),Object(N.jsx)(o.a,{exact:!0,path:"/edit/:identifier",component:A}),Object(N.jsx)(o.a,{exact:!0,path:"/edit-image/:identifier",component:D})]})})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(q,{})}),document.getElementById("root")),B()}},[[74,1,2]]]);
//# sourceMappingURL=main.cf86c5fa.chunk.js.map